{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adrian/Desktop/CDA2026/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\"\nimport { cookies } from \"next/headers\"\n\nexport async function createClient() {\n  const cookieStore = await cookies()\n\n  return createServerClient(process.env.NEXT_PUBLIC_SUPABASE_URL!, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!, {\n    cookies: {\n      getAll() {\n        return cookieStore.getAll()\n      },\n      setAll(cookiesToSet) {\n        try {\n          cookiesToSet.forEach(({ name, value, options }) => cookieStore.set(name, value, options))\n        } catch {\n          // The \"setAll\" method was called from a Server Component.\n          // This can be ignored if you have proxy refreshing user sessions.\n        }\n      },\n    },\n  })\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,sUAAoF;QAC3G,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAK,YAAY,GAAG,CAAC,MAAM,OAAO;gBAClF,EAAE,OAAM;gBACN,0DAA0D;gBAC1D,kEAAkE;gBACpE;YACF;QACF;IACF;AACF"}},
    {"offset": {"line": 45, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adrian/Desktop/CDA2026/components/sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Sidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call Sidebar() from the server but Sidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/sidebar.tsx <module evaluation>\",\n    \"Sidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,UAAU,IAAA,wQAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,wDACA","ignoreList":[0]}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adrian/Desktop/CDA2026/components/sidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Sidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call Sidebar() from the server but Sidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/sidebar.tsx\",\n    \"Sidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,UAAU,IAAA,wQAAuB,EAC1C;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,oCACA","ignoreList":[0]}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adrian/Desktop/CDA2026/lib/auth.ts"],"sourcesContent":["import { cookies, headers } from \"next/headers\"\n\nexport type SessionUser = {\n  id: string\n  username: string\n  nombre?: string\n  rol?: string\n  cargo?: string\n}\n\nexport function parseSession(raw?: string): SessionUser | null {\n  if (!raw) return null\n\n  try {\n    return JSON.parse(raw) as SessionUser\n  } catch {\n    return null\n  }\n}\n\nexport async function getSessionUser(): Promise<SessionUser | null> {\n  // Primary: use Next's cookies helper (can be async in newer versions)\n  try {\n    const store = await cookies()\n    const raw = typeof store.get === \"function\" ? store.get(\"simple_session\")?.value : undefined\n    const parsed = parseSession(raw)\n    if (parsed) return parsed\n  } catch {\n    // noop, fallback to manual parsing below\n  }\n\n  // Fallback: parse cookie header manually (for runtimes where cookies().get isn't available)\n  const cookieHeader = (await headers().get(\"cookie\")) || \"\"\n  const raw = cookieHeader\n    .split(\";\")\n    .map((c) => c.trim())\n    .find((c) => c.startsWith(\"simple_session=\"))\n    ?.split(\"=\")\n    .slice(1)\n    .join(\"=\")\n\n  return parseSession(raw)\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAUO,SAAS,aAAa,GAAY;IACvC,IAAI,CAAC,KAAK,OAAO;IAEjB,IAAI;QACF,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,eAAe;IACpB,sEAAsE;IACtE,IAAI;QACF,MAAM,QAAQ,MAAM,IAAA,0IAAO;QAC3B,MAAM,MAAM,OAAO,MAAM,GAAG,KAAK,aAAa,MAAM,GAAG,CAAC,mBAAmB,QAAQ;QACnF,MAAM,SAAS,aAAa;QAC5B,IAAI,QAAQ,OAAO;IACrB,EAAE,OAAM;IACN,yCAAyC;IAC3C;IAEA,4FAA4F;IAC5F,MAAM,eAAe,AAAC,MAAM,IAAA,0IAAO,IAAG,GAAG,CAAC,aAAc;IACxD,MAAM,MAAM,aACT,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,IACjB,IAAI,CAAC,CAAC,IAAM,EAAE,UAAU,CAAC,qBACxB,MAAM,KACP,MAAM,GACN,KAAK;IAER,OAAO,aAAa;AACtB"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adrian/Desktop/CDA2026/lib/permissions.ts"],"sourcesContent":["import type { SessionUser } from \"./auth\"\n\ntype Permission =\n  | \"cargos:manage\"\n  | \"gastos:manage\"\n  | \"calendario:manage\"\n  | \"normas:manage\"\n  | \"votaciones:manage\"\n  | \"documentos:manage\"\n  | \"config:manage\"\n\nconst cargoPermissions: Record<string, Permission[]> = {\n  \"clavari d'honor\": [],\n  President: [\"cargos:manage\", \"gastos:manage\", \"calendario:manage\", \"normas:manage\", \"votaciones:manage\", \"documentos:manage\", \"config:manage\"],\n  Vicepresident: [],\n  Secretari: [\"cargos:manage\", \"gastos:manage\", \"calendario:manage\", \"normas:manage\", \"votaciones:manage\", \"documentos:manage\", \"config:manage\"],\n  Tresorer: [\"cargos:manage\", \"gastos:manage\"],\n  \"Cobrador de multes\": [\"cargos:manage\"],\n  xarxes: [\"votaciones:manage\", \"documentos:manage\"],\n  lotero: [\"votaciones:manage\"],\n}\n\nconst adminPermissions: Permission[] = [\n  \"cargos:manage\",\n  \"gastos:manage\",\n  \"calendario:manage\",\n  \"normas:manage\",\n  \"votaciones:manage\",\n  \"documentos:manage\",\n  \"config:manage\",\n]\n\nexport function hasPermission(user: SessionUser | null, permission: Permission): boolean {\n  if (!user) return false\n\n  if (user.rol === \"admin\") {\n    return true\n  }\n\n  const cargo = user.cargo || \"\"\n  const perms = cargoPermissions[cargo] || []\n  if (perms.includes(permission)) return true\n\n  if (user.rol === \"miembro\") {\n    // miembros sin cargo especial no tienen permisos de gestión extra\n    return false\n  }\n\n  return false\n}\n\nexport type { Permission }\n"],"names":[],"mappings":";;;;AAWA,MAAM,mBAAiD;IACrD,mBAAmB,EAAE;IACrB,WAAW;QAAC;QAAiB;QAAiB;QAAqB;QAAiB;QAAqB;QAAqB;KAAgB;IAC9I,eAAe,EAAE;IACjB,WAAW;QAAC;QAAiB;QAAiB;QAAqB;QAAiB;QAAqB;QAAqB;KAAgB;IAC9I,UAAU;QAAC;QAAiB;KAAgB;IAC5C,sBAAsB;QAAC;KAAgB;IACvC,QAAQ;QAAC;QAAqB;KAAoB;IAClD,QAAQ;QAAC;KAAoB;AAC/B;AAEA,MAAM,mBAAiC;IACrC;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,SAAS,cAAc,IAAwB,EAAE,UAAsB;IAC5E,IAAI,CAAC,MAAM,OAAO;IAElB,IAAI,KAAK,GAAG,KAAK,SAAS;QACxB,OAAO;IACT;IAEA,MAAM,QAAQ,KAAK,KAAK,IAAI;IAC5B,MAAM,QAAQ,gBAAgB,CAAC,MAAM,IAAI,EAAE;IAC3C,IAAI,MAAM,QAAQ,CAAC,aAAa,OAAO;IAEvC,IAAI,KAAK,GAAG,KAAK,WAAW;QAC1B,kEAAkE;QAClE,OAAO;IACT;IAEA,OAAO;AACT"}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adrian/Desktop/CDA2026/app/informacion/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\"\nimport { createClient } from \"@/lib/supabase/server\"\nimport { Sidebar } from \"@/components/sidebar\"\nimport { Info, Building } from \"lucide-react\"\nimport { getSessionUser } from \"@/lib/auth\"\nimport { hasPermission } from \"@/lib/permissions\"\n\nexport default async function Page() {\n  const supabase = await createClient()\n\n  const sessionUser = await getSessionUser()\n  if (!sessionUser) {\n    redirect(\"/auth/login\")\n  }\n\n  const { data: informacion } = await supabase.from(\"informacion\").select(\"*\")\n\n  const quienesSomos = informacion?.find((i) => i.seccion === \"quienes_somos\")?.contenido || \"\"\n  const queHacemos = informacion?.find((i) => i.seccion === \"que_hacemos\")?.contenido || \"\"\n\n  const canManageConfig = hasPermission(sessionUser, \"config:manage\")\n\n  return (\n    <div className=\"flex min-h-screen bg-gradient-to-br from-[#0a1224] via-[#0f1c36] to-[#090f1c] text-white\">\n      <Sidebar />\n\n      <main className=\"flex-1 lg:ml-64 p-4 lg:p-8\">\n        <div className=\"max-w-6xl mx-auto space-y-10\">\n          <div className=\"flow-in\">\n            <p className=\"uppercase text-xs tracking-[0.2em] text-[#5ee1ff]\">Sobre el grupo</p>\n            <h1 className=\"text-3xl font-bold text-white text-balance\">Información</h1>\n            <p className=\"text-slate-300 mt-1\">CDA 2026</p>\n          </div>\n\n          <div className=\"space-y-6 flow-in flow-in-delay-1\">\n            <SectionBlock\n              icon={<Info className=\"h-5 w-5 text-[#5ee1ff]\" />}\n              title=\"Quiénes Somos\"\n              content={quienesSomos}\n            />\n\n            <SectionBlock\n              icon={<Building className=\"h-5 w-5 text-[#5ee1ff]\" />}\n              title=\"Qué Hacemos\"\n              content={queHacemos}\n            />\n\n            <div className=\"band p-6 space-y-4\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"text-xl font-semibold\">Benifaió</div>\n              </div>\n              <div className=\"aspect-video relative rounded-2xl overflow-hidden bg-white/5\">\n                <img\n                  src=\"/benifai--pueblo-valencia-espa-a.jpg\"\n                  alt=\"Benifaió\"\n                  className=\"w-full h-full object-cover\"\n                />\n              </div>\n              <p className=\"text-slate-200 leading-relaxed\">\n                Benifaió es un municipio de la Comunidad Valenciana, España, situado en la comarca de la Ribera Alta,\n                provincia de Valencia.\n              </p>\n            </div>\n          </div>\n\n          {canManageConfig && (\n            <div className=\"band p-4 md:p-6 flow-in flow-in-delay-3\">\n              <p className=\"text-sm text-white\">\n                <strong>Nota para administradores:</strong> Puedes editar esta información desde la sección de\n                Configuración.\n              </p>\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  )\n}\n\nfunction SectionBlock({\n  icon,\n  title,\n  content,\n}: {\n  icon: React.ReactNode\n  title: string\n  content: string\n}) {\n  return (\n    <div className=\"band p-6 space-y-3 shadow-[0_25px_80px_rgba(6,10,20,0.45)]\">\n      <div className=\"flex items-center gap-2 text-xl font-semibold\">\n        {icon}\n        {title}\n      </div>\n      <p className=\"text-slate-200 leading-relaxed whitespace-pre-wrap\">{content}</p>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;AAEe,eAAe;IAC5B,MAAM,WAAW,MAAM,IAAA,yIAAY;IAEnC,MAAM,cAAc,MAAM,IAAA,6HAAc;IACxC,IAAI,CAAC,aAAa;QAChB,IAAA,iMAAQ,EAAC;IACX;IAEA,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,eAAe,MAAM,CAAC;IAExE,MAAM,eAAe,aAAa,KAAK,CAAC,IAAM,EAAE,OAAO,KAAK,kBAAkB,aAAa;IAC3F,MAAM,aAAa,aAAa,KAAK,CAAC,IAAM,EAAE,OAAO,KAAK,gBAAgB,aAAa;IAEvF,MAAM,kBAAkB,IAAA,mIAAa,EAAC,aAAa;IAEnD,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,iIAAO;;;;;0BAER,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAE,WAAU;8CAAoD;;;;;;8CACjE,8OAAC;oCAAG,WAAU;8CAA6C;;;;;;8CAC3D,8OAAC;oCAAE,WAAU;8CAAsB;;;;;;;;;;;;sCAGrC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,oBAAM,8OAAC,0MAAI;wCAAC,WAAU;;;;;;oCACtB,OAAM;oCACN,SAAS;;;;;;8CAGX,8OAAC;oCACC,oBAAM,8OAAC,sNAAQ;wCAAC,WAAU;;;;;;oCAC1B,OAAM;oCACN,SAAS;;;;;;8CAGX,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDAAI,WAAU;0DAAwB;;;;;;;;;;;sDAEzC,8OAAC;4CAAI,WAAU;sDACb,cAAA,8OAAC;gDACC,KAAI;gDACJ,KAAI;gDACJ,WAAU;;;;;;;;;;;sDAGd,8OAAC;4CAAE,WAAU;sDAAiC;;;;;;;;;;;;;;;;;;wBAOjD,iCACC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAE,WAAU;;kDACX,8OAAC;kDAAO;;;;;;oCAAmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS3D;AAEA,SAAS,aAAa,EACpB,IAAI,EACJ,KAAK,EACL,OAAO,EAKR;IACC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;oBACZ;oBACA;;;;;;;0BAEH,8OAAC;gBAAE,WAAU;0BAAsD;;;;;;;;;;;;AAGzE"}}]
}